{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nexport let UnitsPageComponent = class UnitsPageComponent {\n  constructor(unitService) {\n    this.unitService = unitService;\n    this.unidades = [];\n    this.novaUnidade = {\n      name: '',\n      city: '',\n      director: '',\n      phone: ''\n    };\n    this.mensagemErro = '';\n    this.exibirErro = false;\n  }\n  ngOnInit() {\n    this.carregar();\n  }\n  carregar() {\n    this.unitService.list().subscribe(unidades => this.unidades = unidades);\n  }\n  iniciarNovaUnidade() {\n    this.novaUnidade = {\n      name: '',\n      city: '',\n      director: '',\n      phone: ''\n    };\n  }\n  salvarUnidade() {\n    if (!this.validarCamposObrigatorios()) {\n      this.mostrarErro('Preencha todos os campos obrigatorios antes de salvar.');\n      return;\n    }\n    this.unitService.create(this.novaUnidade).subscribe({\n      next: () => {\n        this.iniciarNovaUnidade();\n        this.carregar();\n      },\n      error: () => this.mostrarErro('Nao foi possivel salvar a unidade. Tente novamente.')\n    });\n  }\n  excluirUnidade(id) {\n    this.unitService.delete(id).subscribe({\n      next: () => this.carregar(),\n      error: () => this.mostrarErro('Nao foi possivel excluir a unidade.')\n    });\n  }\n  validarCamposObrigatorios() {\n    return !!(this.novaUnidade.name && this.novaUnidade.city && this.novaUnidade.director);\n  }\n  mostrarErro(mensagem) {\n    this.mensagemErro = mensagem;\n    this.exibirErro = true;\n  }\n  fecharErro() {\n    this.exibirErro = false;\n  }\n};\nUnitsPageComponent = __decorate([Component({\n  selector: 'app-units-page',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './units-page.component.html',\n  styleUrls: ['./units-page.component.css']\n})], UnitsPageComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}