{"ast":null,"code":"import _objectSpread from \"C:/asa/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { forkJoin } from 'rxjs';\nimport { AppTelaPadraoComponent } from '../shared/app-tela-padrao.component';\nimport { AppBarraAcoesCrudComponent } from '../shared/app-barra-acoes-crud.component';\nimport { AppDialogComponent } from '../shared/app-dialog.component';\nimport { AppPopupMessagesComponent } from '../shared/app-popup-messages.component';\nimport { PopupErrorBuilder } from '../shared/popup-error.builder';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/report.service\";\nimport * as i2 from \"../services/unidade.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AtividadesAsaPageComponent_option_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unidade_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", unidade_r5.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(unidade_r5.nomeUnidade);\n  }\n}\nfunction AtividadesAsaPageComponent_div_63_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 39);\n    i0.ɵɵlistener(\"click\", function AtividadesAsaPageComponent_div_63_tr_17_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const atividade_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.selecionarAtividade(atividade_r7));\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const atividade_r7 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    let tmp_5_0;\n    i0.ɵɵclassProp(\"linhaSelecionada\", (ctx_r6.atividadeSelecionada == null ? null : ctx_r6.atividadeSelecionada.id) === atividade_r7.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r6.obterNomeUnidade(atividade_r7.idUnidade));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(atividade_r7.tipo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 8, atividade_r7.data, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(atividade_r7.beneficiarios);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((tmp_5_0 = atividade_r7.itens) !== null && tmp_5_0 !== undefined ? tmp_5_0 : \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(atividade_r7.valor !== null ? i0.ɵɵpipeBind3(14, 11, atividade_r7.valor, \"BRL\", \"symbol\") : \"-\");\n  }\n}\nfunction AtividadesAsaPageComponent_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"table\")(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Unidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Tipo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Data\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Beneficiarios\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Itens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Valor\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, AtividadesAsaPageComponent_div_63_tr_17_Template, 15, 15, \"tr\", 38);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.atividadesFiltradas);\n  }\n}\nfunction AtividadesAsaPageComponent_ng_template_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtext(1, \"Nenhuma atividade cadastrada.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AtividadesAsaPageComponent_app_dialog_67_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-dialog\", 41);\n    i0.ɵɵlistener(\"confirmar\", function AtividadesAsaPageComponent_app_dialog_67_Template_app_dialog_confirmar_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.confirmarExclusao());\n    })(\"cancelar\", function AtividadesAsaPageComponent_app_dialog_67_Template_app_dialog_cancelar_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.cancelarExclusao());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nexport let AtividadesAsaPageComponent = /*#__PURE__*/(() => {\n  var _AtividadesAsaPageComponent;\n  class AtividadesAsaPageComponent {\n    constructor(reportService, unidadeService, router) {\n      this.reportService = reportService;\n      this.unidadeService = unidadeService;\n      this.router = router;\n      this.carregando = false;\n      this.atividades = [];\n      this.atividadesFiltradas = [];\n      this.unidades = [];\n      this.mapaUnidades = new Map();\n      this.atividadeSelecionada = null;\n      this.atividadeEmEdicao = this.criarAtividadeVazia();\n      this.termoBusca = '';\n      this.dialogoExclusaoAberto = false;\n      this.mensagensErro = [];\n      this.menuPai = 'Operacional';\n      this.titulo = 'Atividades da ASA';\n      this.subtitulo = 'Controle das informacoes do relatorio mensal de atividades.';\n      this.comentarioDidatico = 'Comentario didatico: mantenha as atividades do mes atualizadas.';\n    }\n    ngOnInit() {\n      this.carregarDados();\n    }\n    carregarDados() {\n      this.carregando = true;\n      forkJoin({\n        atividades: this.reportService.list(),\n        unidades: this.unidadeService.listar()\n      }).subscribe({\n        next: ({\n          atividades,\n          unidades\n        }) => {\n          this.unidades = unidades;\n          this.mapaUnidades = new Map(unidades.filter(u => u.id).map(u => [u.id, u]));\n          this.atividades = atividades.map(atividade => this.mapearAtividade(atividade));\n          this.aplicarFiltro();\n          this.carregando = false;\n        },\n        error: () => {\n          this.carregando = false;\n          this.mensagensErro = ['Nao foi possivel carregar as atividades.'];\n        }\n      });\n    }\n    aoBuscar() {\n      this.carregarDados();\n    }\n    aoNovo() {\n      this.atividadeSelecionada = null;\n      this.atividadeEmEdicao = this.criarAtividadeVazia();\n    }\n    aoSalvar() {\n      const builder = new PopupErrorBuilder();\n      if (!this.atividadeEmEdicao.idUnidade) {\n        builder.adicionarMensagem('Selecione a unidade.');\n      }\n      if (!this.atividadeEmEdicao.tipo.trim()) {\n        builder.adicionarMensagem('Informe o tipo da atividade.');\n      }\n      if (!this.atividadeEmEdicao.data) {\n        builder.adicionarMensagem('Informe a data da atividade.');\n      }\n      if (this.atividadeEmEdicao.beneficiarios === null || this.atividadeEmEdicao.beneficiarios === undefined) {\n        builder.adicionarMensagem('Informe o numero de beneficiarios.');\n      }\n      if (!this.atividadeEmEdicao.descricao.trim()) {\n        builder.adicionarMensagem('Informe a descricao da atividade.');\n      }\n      if (builder.temMensagens()) {\n        this.mensagensErro = builder.construir();\n        return;\n      }\n      const payload = this.mapearParaReport(this.atividadeEmEdicao);\n      const requisicao = this.atividadeEmEdicao.id ? this.reportService.update(payload) : this.reportService.create(payload);\n      requisicao.subscribe({\n        next: () => {\n          this.atividadeEmEdicao = this.criarAtividadeVazia();\n          this.atividadeSelecionada = null;\n          this.carregarDados();\n        },\n        error: () => {\n          this.mensagensErro = ['Nao foi possivel salvar a atividade.'];\n        }\n      });\n    }\n    aoCancelar() {\n      this.atividadeEmEdicao = this.criarAtividadeVazia();\n      this.atividadeSelecionada = null;\n      this.termoBusca = '';\n      this.aplicarFiltro();\n    }\n    aoExcluir() {\n      var _this$atividadeSeleci;\n      if (!((_this$atividadeSeleci = this.atividadeSelecionada) !== null && _this$atividadeSeleci !== void 0 && _this$atividadeSeleci.id)) {\n        this.mensagensErro = ['Selecione uma atividade para excluir.'];\n        return;\n      }\n      this.dialogoExclusaoAberto = true;\n    }\n    confirmarExclusao() {\n      var _this$atividadeSeleci2;\n      if (!((_this$atividadeSeleci2 = this.atividadeSelecionada) !== null && _this$atividadeSeleci2 !== void 0 && _this$atividadeSeleci2.id)) {\n        this.dialogoExclusaoAberto = false;\n        return;\n      }\n      this.reportService.delete(this.atividadeSelecionada.id).subscribe({\n        next: () => {\n          this.dialogoExclusaoAberto = false;\n          this.atividadeSelecionada = null;\n          this.atividadeEmEdicao = this.criarAtividadeVazia();\n          this.carregarDados();\n        },\n        error: () => {\n          this.dialogoExclusaoAberto = false;\n          this.mensagensErro = ['Nao foi possivel excluir a atividade.'];\n        }\n      });\n    }\n    cancelarExclusao() {\n      this.dialogoExclusaoAberto = false;\n    }\n    aoImprimir() {\n      window.print();\n    }\n    aoFechar() {\n      this.router.navigate(['/dashboard']);\n    }\n    selecionarAtividade(atividade) {\n      this.atividadeSelecionada = atividade;\n      this.atividadeEmEdicao = _objectSpread({}, atividade);\n    }\n    aplicarFiltro() {\n      const termoNormalizado = this.normalizarTexto(this.termoBusca);\n      if (!termoNormalizado) {\n        this.atividadesFiltradas = [...this.atividades];\n        return;\n      }\n      this.atividadesFiltradas = this.atividades.filter(atividade => {\n        const unidade = this.obterNomeUnidade(atividade.idUnidade);\n        const campos = [unidade, atividade.tipo, atividade.descricao, atividade.data];\n        return campos.some(campo => this.normalizarTexto(String(campo || '')).includes(termoNormalizado));\n      });\n    }\n    limparMensagens() {\n      this.mensagensErro = [];\n    }\n    obterNomeUnidade(idUnidade) {\n      var _this$mapaUnidades$ge;\n      if (!idUnidade) {\n        return '-';\n      }\n      return ((_this$mapaUnidades$ge = this.mapaUnidades.get(idUnidade)) === null || _this$mapaUnidades$ge === void 0 ? void 0 : _this$mapaUnidades$ge.nomeUnidade) || '-';\n    }\n    criarAtividadeVazia() {\n      return {\n        idUnidade: null,\n        tipo: '',\n        beneficiarios: null,\n        itens: null,\n        data: '',\n        descricao: '',\n        valor: null\n      };\n    }\n    mapearAtividade(atividade) {\n      var _atividade$beneficiar, _atividade$items, _atividade$value;\n      return {\n        id: atividade.id,\n        idUnidade: atividade.unitId,\n        tipo: atividade.type || '',\n        beneficiarios: (_atividade$beneficiar = atividade.beneficiaries) !== null && _atividade$beneficiar !== void 0 ? _atividade$beneficiar : null,\n        itens: (_atividade$items = atividade.items) !== null && _atividade$items !== void 0 ? _atividade$items : null,\n        data: atividade.date || '',\n        descricao: atividade.description || '',\n        valor: (_atividade$value = atividade.value) !== null && _atividade$value !== void 0 ? _atividade$value : null\n      };\n    }\n    mapearParaReport(atividade) {\n      var _atividade$itens, _atividade$valor;\n      return {\n        id: atividade.id,\n        unitId: atividade.idUnidade,\n        type: atividade.tipo,\n        beneficiaries: atividade.beneficiarios,\n        items: (_atividade$itens = atividade.itens) !== null && _atividade$itens !== void 0 ? _atividade$itens : undefined,\n        date: atividade.data,\n        description: atividade.descricao,\n        value: (_atividade$valor = atividade.valor) !== null && _atividade$valor !== void 0 ? _atividade$valor : undefined\n      };\n    }\n    normalizarTexto(texto) {\n      return texto.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').toLowerCase().trim();\n    }\n  }\n  _AtividadesAsaPageComponent = AtividadesAsaPageComponent;\n  _AtividadesAsaPageComponent.ɵfac = function AtividadesAsaPageComponent_Factory(t) {\n    return new (t || _AtividadesAsaPageComponent)(i0.ɵɵdirectiveInject(i1.ReportService), i0.ɵɵdirectiveInject(i2.UnidadeService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  _AtividadesAsaPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _AtividadesAsaPageComponent,\n    selectors: [[\"app-atividades-asa-page\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 68,\n    vars: 25,\n    consts: [[3, \"menuPai\", \"titulo\", \"subtitulo\", \"comentarioDidatico\"], [\"barra-acoes\", \"\"], [3, \"desabilitarBuscar\", \"desabilitarNovo\", \"desabilitarSalvar\", \"desabilitarCancelar\", \"desabilitarExcluir\", \"desabilitarImprimir\", \"desabilitarFechar\", \"buscar\", \"novo\", \"salvar\", \"cancelar\", \"excluir\", \"imprimir\", \"fechar\"], [1, \"cartaoFormulario\"], [1, \"cabecalhoFormulario\"], [1, \"tituloSecao\"], [1, \"formularioPadrao\"], [1, \"grupoFormulario\"], [1, \"cabecalhoGrupo\"], [1, \"gradeGrupo\"], [1, \"linhaFormulario\"], [\"for\", \"unidadeAtividade\", 1, \"rotuloCampo\"], [1, \"campoObrigatorio\"], [\"id\", \"unidadeAtividade\", \"name\", \"unidadeAtividade\", \"required\", \"\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"tipoAtividade\", 1, \"rotuloCampo\"], [\"id\", \"tipoAtividade\", \"name\", \"tipoAtividade\", \"type\", \"text\", \"placeholder\", \"Ex: Doacao, Campanha, Visita\", \"required\", \"\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"dataAtividade\", 1, \"rotuloCampo\"], [\"id\", \"dataAtividade\", \"name\", \"dataAtividade\", \"type\", \"date\", \"required\", \"\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"beneficiariosAtividade\", 1, \"rotuloCampo\"], [\"id\", \"beneficiariosAtividade\", \"name\", \"beneficiariosAtividade\", \"type\", \"number\", \"min\", \"0\", \"required\", \"\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"itensAtividade\", 1, \"rotuloCampo\"], [\"id\", \"itensAtividade\", \"name\", \"itensAtividade\", \"type\", \"number\", \"min\", \"0\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"valorAtividade\", 1, \"rotuloCampo\"], [\"id\", \"valorAtividade\", \"name\", \"valorAtividade\", \"type\", \"number\", \"min\", \"0\", \"step\", \"0.01\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\"], [1, \"linhaFormulario\", \"linhaTextoGrande\"], [\"for\", \"descricaoAtividade\", 1, \"rotuloCampo\"], [\"id\", \"descricaoAtividade\", \"name\", \"descricaoAtividade\", \"rows\", \"3\", \"placeholder\", \"Descreva a atividade realizada\", \"required\", \"\", 1, \"campoTexto\", \"campoTextoEndereco\", 3, \"ngModel\", \"ngModelChange\"], [1, \"cartaoTabela\"], [1, \"cabecalhoFormulario\", \"cabecalhoTabela\"], [1, \"linhaBusca\"], [\"id\", \"buscaAtividade\", \"name\", \"buscaAtividade\", \"type\", \"text\", \"placeholder\", \"Buscar por unidade, tipo ou descricao\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"class\", \"tabelaAtividades\", 4, \"ngIf\", \"ngIfElse\"], [\"semAtividades\", \"\"], [3, \"mensagens\", \"fechar\"], [\"titulo\", \"Exclusao de atividade\", \"mensagem\", \"A exclusao e irreversivel, tem certeza que deseja excluir esta atividade?\", \"confirmarTexto\", \"Excluir\", \"cancelarTexto\", \"Cancelar\", 3, \"confirmar\", \"cancelar\", 4, \"ngIf\"], [1, \"tabelaAtividades\"], [3, \"linhaSelecionada\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [1, \"linhaVazia\"], [\"titulo\", \"Exclusao de atividade\", \"mensagem\", \"A exclusao e irreversivel, tem certeza que deseja excluir esta atividade?\", \"confirmarTexto\", \"Excluir\", \"cancelarTexto\", \"Cancelar\", 3, \"confirmar\", \"cancelar\"]],\n    template: function AtividadesAsaPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-tela-padrao\", 0)(1, \"div\", 1)(2, \"app-barra-acoes-crud\", 2);\n        i0.ɵɵlistener(\"buscar\", function AtividadesAsaPageComponent_Template_app_barra_acoes_crud_buscar_2_listener() {\n          return ctx.aoBuscar();\n        })(\"novo\", function AtividadesAsaPageComponent_Template_app_barra_acoes_crud_novo_2_listener() {\n          return ctx.aoNovo();\n        })(\"salvar\", function AtividadesAsaPageComponent_Template_app_barra_acoes_crud_salvar_2_listener() {\n          return ctx.aoSalvar();\n        })(\"cancelar\", function AtividadesAsaPageComponent_Template_app_barra_acoes_crud_cancelar_2_listener() {\n          return ctx.aoCancelar();\n        })(\"excluir\", function AtividadesAsaPageComponent_Template_app_barra_acoes_crud_excluir_2_listener() {\n          return ctx.aoExcluir();\n        })(\"imprimir\", function AtividadesAsaPageComponent_Template_app_barra_acoes_crud_imprimir_2_listener() {\n          return ctx.aoImprimir();\n        })(\"fechar\", function AtividadesAsaPageComponent_Template_app_barra_acoes_crud_fechar_2_listener() {\n          return ctx.aoFechar();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\", 5);\n        i0.ɵɵtext(6, \"Registro da atividade\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"form\", 6)(8, \"div\", 7)(9, \"div\", 8);\n        i0.ɵɵtext(10, \"Dados principais\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 9)(12, \"div\", 10)(13, \"label\", 11);\n        i0.ɵɵtext(14, \"Unidade \");\n        i0.ɵɵelementStart(15, \"span\", 12);\n        i0.ɵɵtext(16, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"select\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function AtividadesAsaPageComponent_Template_select_ngModelChange_17_listener($event) {\n          return ctx.atividadeEmEdicao.idUnidade = $event;\n        });\n        i0.ɵɵelementStart(18, \"option\", 14);\n        i0.ɵɵtext(19, \"Selecione\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(20, AtividadesAsaPageComponent_option_20_Template, 2, 2, \"option\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"div\", 10)(22, \"label\", 16);\n        i0.ɵɵtext(23, \"Tipo \");\n        i0.ɵɵelementStart(24, \"span\", 12);\n        i0.ɵɵtext(25, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function AtividadesAsaPageComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.atividadeEmEdicao.tipo = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 10)(28, \"label\", 18);\n        i0.ɵɵtext(29, \"Data \");\n        i0.ɵɵelementStart(30, \"span\", 12);\n        i0.ɵɵtext(31, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(32, \"input\", 19);\n        i0.ɵɵlistener(\"ngModelChange\", function AtividadesAsaPageComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.atividadeEmEdicao.data = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(33, \"div\", 10)(34, \"label\", 20);\n        i0.ɵɵtext(35, \"Beneficiarios \");\n        i0.ɵɵelementStart(36, \"span\", 12);\n        i0.ɵɵtext(37, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(38, \"input\", 21);\n        i0.ɵɵlistener(\"ngModelChange\", function AtividadesAsaPageComponent_Template_input_ngModelChange_38_listener($event) {\n          return ctx.atividadeEmEdicao.beneficiarios = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"div\", 10)(40, \"label\", 22);\n        i0.ɵɵtext(41, \"Itens\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"input\", 23);\n        i0.ɵɵlistener(\"ngModelChange\", function AtividadesAsaPageComponent_Template_input_ngModelChange_42_listener($event) {\n          return ctx.atividadeEmEdicao.itens = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"div\", 10)(44, \"label\", 24);\n        i0.ɵɵtext(45, \"Valor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"input\", 25);\n        i0.ɵɵlistener(\"ngModelChange\", function AtividadesAsaPageComponent_Template_input_ngModelChange_46_listener($event) {\n          return ctx.atividadeEmEdicao.valor = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(47, \"div\", 7)(48, \"div\", 8);\n        i0.ɵɵtext(49, \"Descricao detalhada\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 9)(51, \"div\", 26)(52, \"label\", 27);\n        i0.ɵɵtext(53, \"Descricao \");\n        i0.ɵɵelementStart(54, \"span\", 12);\n        i0.ɵɵtext(55, \"*\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(56, \"textarea\", 28);\n        i0.ɵɵlistener(\"ngModelChange\", function AtividadesAsaPageComponent_Template_textarea_ngModelChange_56_listener($event) {\n          return ctx.atividadeEmEdicao.descricao = $event;\n        });\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(57, \"div\", 29)(58, \"div\", 30)(59, \"h3\", 5);\n        i0.ɵɵtext(60, \"Atividades cadastradas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"div\", 31)(62, \"input\", 32);\n        i0.ɵɵlistener(\"ngModelChange\", function AtividadesAsaPageComponent_Template_input_ngModelChange_62_listener($event) {\n          return ctx.termoBusca = $event;\n        })(\"input\", function AtividadesAsaPageComponent_Template_input_input_62_listener() {\n          return ctx.aplicarFiltro();\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(63, AtividadesAsaPageComponent_div_63_Template, 18, 1, \"div\", 33);\n        i0.ɵɵtemplate(64, AtividadesAsaPageComponent_ng_template_64_Template, 2, 0, \"ng-template\", null, 34, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(66, \"app-popup-messages\", 35);\n        i0.ɵɵlistener(\"fechar\", function AtividadesAsaPageComponent_Template_app_popup_messages_fechar_66_listener() {\n          return ctx.limparMensagens();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(67, AtividadesAsaPageComponent_app_dialog_67_Template, 1, 0, \"app-dialog\", 36);\n      }\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(65);\n        i0.ɵɵproperty(\"menuPai\", ctx.menuPai)(\"titulo\", ctx.titulo)(\"subtitulo\", ctx.subtitulo)(\"comentarioDidatico\", ctx.comentarioDidatico);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"desabilitarBuscar\", ctx.carregando)(\"desabilitarNovo\", ctx.carregando)(\"desabilitarSalvar\", ctx.carregando)(\"desabilitarCancelar\", ctx.carregando)(\"desabilitarExcluir\", !ctx.atividadeSelecionada || ctx.carregando)(\"desabilitarImprimir\", ctx.carregando)(\"desabilitarFechar\", false);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngModel\", ctx.atividadeEmEdicao.idUnidade);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngValue\", null);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.unidades);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.atividadeEmEdicao.tipo);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.atividadeEmEdicao.data);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.atividadeEmEdicao.beneficiarios);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.atividadeEmEdicao.itens);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.atividadeEmEdicao.valor);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.atividadeEmEdicao.descricao);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.termoBusca);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.atividadesFiltradas.length > 0)(\"ngIfElse\", _r2);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"mensagens\", ctx.mensagensErro);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.dialogoExclusaoAberto);\n      }\n    },\n    dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.CurrencyPipe, i4.DatePipe, FormsModule, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinValidator, i5.NgModel, i5.NgForm, AppTelaPadraoComponent, AppBarraAcoesCrudComponent, AppDialogComponent, AppPopupMessagesComponent],\n    styles: [\".cartaoFormulario[_ngcontent-%COMP%], .cartaoTabela[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;border:1px solid #e1e5e1;padding:20px;box-shadow:0 6px 16px #0000000a}.tituloSecao[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:700}.cabecalhoFormulario[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.cabecalhoTabela[_ngcontent-%COMP%]{flex-wrap:wrap}.linhaBusca[_ngcontent-%COMP%]{min-width:240px;flex:1;display:flex;justify-content:flex-end}.formularioPadrao[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.grupoFormulario[_ngcontent-%COMP%]{border:1px solid #e4e8e4;border-radius:12px;padding:16px;background-color:#f9faf9;display:flex;flex-direction:column;gap:12px}.cabecalhoGrupo[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:#2e3a2e}.gradeGrupo[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}.linhaFormulario[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.linhaTextoGrande[_ngcontent-%COMP%]{grid-column:1 / -1}.rotuloCampo[_ngcontent-%COMP%]{font-size:13px;color:#3a463a}.campoObrigatorio[_ngcontent-%COMP%]{color:#b91c1c}.campoTexto[_ngcontent-%COMP%]{border:1px solid #d8ddd8;border-radius:10px;padding:10px 12px;font-size:14px}.campoTextoEndereco[_ngcontent-%COMP%]{min-height:40px;resize:vertical}.campoTexto[_ngcontent-%COMP%]:focus{outline:none;border-color:#2f7a45;box-shadow:0 0 0 3px #2f7a4526}.tabelaAtividades[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}.tabelaAtividades[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabelaAtividades[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;border-bottom:1px solid #e5e7eb;text-align:left}.tabelaAtividades[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}.linhaSelecionada[_ngcontent-%COMP%]{background-color:#eef7f0}.linhaVazia[_ngcontent-%COMP%]{text-align:center;color:#7b857b;padding:16px}@media (max-width: 900px){.cabecalhoFormulario[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.linhaBusca[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}}\"]\n  });\n  return AtividadesAsaPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}