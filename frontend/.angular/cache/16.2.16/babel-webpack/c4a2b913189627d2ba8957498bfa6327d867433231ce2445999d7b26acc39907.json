{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/unidade.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction UnitsPageComponent_div_130_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 70);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Exibindo unidades com \", ctx_r0.filtroAtivo, \". \");\n  }\n}\nconst _c0 = function (a0, a1, a2, a3) {\n  return {\n    statusAtivo: a0,\n    statusIncompleto: a1,\n    statusBloqueado: a2,\n    statusDesatualizado: a3\n  };\n};\nfunction UnitsPageComponent_tr_153_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 71);\n    i0.ɵɵlistener(\"click\", function UnitsPageComponent_tr_153_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const unidade_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.selecionarUnidade(unidade_r4));\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"span\", 72);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"td\", 65)(19, \"button\", 73);\n    i0.ɵɵlistener(\"click\", function UnitsPageComponent_tr_153_Template_button_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const unidade_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.excluirUnidade(unidade_r4.id));\n    });\n    i0.ɵɵtext(20, \"Excluir\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const unidade_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"linhaSelecionada\", (ctx_r1.unidadeSelecionada == null ? null : ctx_r1.unidadeSelecionada.id) === unidade_r4.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(unidade_r4.nomeUnidade);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(unidade_r4.diretor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(unidade_r4.telefone || \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(unidade_r4.bairro || \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(unidade_r4.cidade);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(unidade_r4.emailUnidade || \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(unidade_r4.anoEleicao || \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(11, _c0, ctx_r1.obterStatusUnidade(unidade_r4) === \"ATIVO\", ctx_r1.obterStatusUnidade(unidade_r4) === \"INCOMPLETO\", ctx_r1.obterStatusUnidade(unidade_r4) === \"BLOQUEADO\", ctx_r1.obterStatusUnidade(unidade_r4) === \"DESATUALIZADO\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.obterStatusUnidade(unidade_r4), \" \");\n  }\n}\nfunction UnitsPageComponent_tr_154_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 74);\n    i0.ɵɵtext(2, \"Nenhuma unidade cadastrada.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UnitsPageComponent_div_155_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"div\", 76)(2, \"p\", 77);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function UnitsPageComponent_div_155_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.fecharErro());\n    });\n    i0.ɵɵtext(5, \"Fechar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.mensagemErro);\n  }\n}\nexport let UnitsPageComponent = /*#__PURE__*/(() => {\n  class UnitsPageComponent {\n    constructor(unidadeService, rota) {\n      this.unidadeService = unidadeService;\n      this.rota = rota;\n      this.dataImpressao = new Date();\n      this.unidades = [];\n      this.unidadesFiltradas = [];\n      this.filtroAtivo = '';\n      this.novaUnidade = {\n        nomeUnidade: '',\n        diretor: '',\n        telefone: '',\n        bairro: '',\n        cidade: '',\n        emailUnidade: '',\n        enderecoCompleto: '',\n        anoEleicao: undefined\n      };\n      this.unidadeSelecionada = null;\n      this.mensagemErro = '';\n      this.exibirErro = false;\n    }\n    ngOnInit() {\n      this.carregar();\n      this.rota.queryParamMap.subscribe(params => {\n        const id = params.get('id');\n        const filtro = params.get('filtro');\n        this.filtroAtivo = filtro || '';\n        this.aplicarFiltro();\n        if (!id) {\n          return;\n        }\n        const idNumerico = Number(id);\n        if (Number.isNaN(idNumerico)) {\n          return;\n        }\n        this.unidadeService.buscarPorId(idNumerico).subscribe({\n          next: unidade => {\n            this.unidadeSelecionada = unidade;\n            this.novaUnidade = {\n              ...unidade\n            };\n          },\n          error: () => this.mostrarErro('Nao foi possivel carregar a unidade selecionada.')\n        });\n      });\n    }\n    carregar() {\n      this.unidadeService.listar().subscribe(unidades => {\n        this.unidades = unidades;\n        this.aplicarFiltro();\n      });\n    }\n    iniciarNovaUnidade() {\n      this.novaUnidade = {\n        nomeUnidade: '',\n        diretor: '',\n        telefone: '',\n        bairro: '',\n        cidade: '',\n        emailUnidade: '',\n        enderecoCompleto: '',\n        anoEleicao: undefined\n      };\n      this.unidadeSelecionada = null;\n    }\n    salvarUnidade() {\n      this.formatarNomeUnidade();\n      this.formatarDiretor();\n      this.aplicarMascaraTelefone();\n      if (!this.validarEmailUnidade()) {\n        return;\n      }\n      if (!this.validarCamposObrigatorios()) {\n        this.mostrarErro('Preencha todos os campos obrigatorios antes de salvar.');\n        return;\n      }\n      const payload = {\n        ...this.novaUnidade,\n        id: this.unidadeSelecionada?.id\n      };\n      const requisicao = payload.id ? this.unidadeService.atualizar(payload) : this.unidadeService.criar(payload);\n      requisicao.subscribe({\n        next: () => {\n          this.iniciarNovaUnidade();\n          this.carregar();\n        },\n        error: () => this.mostrarErro('Nao foi possivel salvar a unidade. Tente novamente.')\n      });\n    }\n    excluirUnidade(id) {\n      this.unidadeService.excluir(id).subscribe({\n        next: () => this.carregar(),\n        error: () => this.mostrarErro('Nao foi possivel excluir a unidade.')\n      });\n    }\n    selecionarUnidade(unidade) {\n      this.unidadeSelecionada = unidade;\n      this.novaUnidade = {\n        ...unidade\n      };\n    }\n    editarUnidadeSelecionada() {\n      if (!this.unidadeSelecionada) {\n        this.mostrarErro('Selecione uma unidade para editar.');\n        return;\n      }\n      this.novaUnidade = {\n        ...this.unidadeSelecionada\n      };\n    }\n    excluirUnidadeSelecionada() {\n      if (!this.unidadeSelecionada?.id) {\n        this.mostrarErro('Selecione uma unidade para excluir.');\n        return;\n      }\n      if (!window.confirm('Confirma a exclusao da unidade selecionada?')) {\n        return;\n      }\n      this.excluirUnidade(this.unidadeSelecionada.id);\n      this.unidadeSelecionada = null;\n    }\n    imprimirCadastro() {\n      window.print();\n    }\n    validarCamposObrigatorios() {\n      return !!(this.novaUnidade.nomeUnidade && this.novaUnidade.diretor && this.novaUnidade.cidade && this.novaUnidade.anoEleicao);\n    }\n    anoEleicaoInvalido() {\n      return !!this.novaUnidade.anoEleicao && this.novaUnidade.anoEleicao < 2026;\n    }\n    obterStatusUnidade(unidade) {\n      if (this.unidadeDesatualizada(unidade)) {\n        return 'DESATUALIZADO';\n      }\n      const incompleto = this.unidadeIncompleta(unidade);\n      if (incompleto) {\n        return 'INCOMPLETO';\n      }\n      if (unidade.anoEleicao && unidade.anoEleicao < 2026) {\n        return 'BLOQUEADO';\n      }\n      return 'ATIVO';\n    }\n    unidadeIncompleta(unidade) {\n      return !unidade.nomeUnidade || !unidade.diretor || !unidade.telefone || !unidade.bairro || !unidade.cidade || !unidade.emailUnidade || !unidade.enderecoCompleto || !unidade.anoEleicao;\n    }\n    unidadeDesatualizada(unidade) {\n      const dataBaseTexto = unidade.dataAtualizacao || unidade.dataCriacao;\n      if (!dataBaseTexto) {\n        return true;\n      }\n      const dataBase = new Date(dataBaseTexto);\n      if (Number.isNaN(dataBase.getTime())) {\n        return true;\n      }\n      const hoje = new Date();\n      const limite = new Date(hoje.getFullYear(), hoje.getMonth() - 3, hoje.getDate());\n      return dataBase < limite;\n    }\n    aoDigitarNomeUnidade(evento) {\n      const input = evento.target;\n      if (!input) {\n        return;\n      }\n      const valorFormatado = this.obterNomeUnidadeFormatado(input.value);\n      this.aplicarValorFormatado(input, valorFormatado);\n      this.novaUnidade.nomeUnidade = valorFormatado;\n    }\n    aoDigitarDiretor(evento) {\n      const input = evento.target;\n      if (!input) {\n        return;\n      }\n      const valorFormatado = this.formatarTituloPreservandoEspacos(input.value);\n      this.aplicarValorFormatado(input, valorFormatado);\n      this.novaUnidade.diretor = valorFormatado;\n    }\n    aoDigitarTextoTitulo(evento, campo) {\n      const elemento = evento.target;\n      if (!elemento) {\n        return;\n      }\n      const valorFormatado = this.formatarTituloPreservandoEspacos(elemento.value);\n      this.aplicarValorFormatado(elemento, valorFormatado);\n      this.novaUnidade[campo] = valorFormatado;\n    }\n    formatarNomeUnidade() {\n      const valorFormatado = this.obterNomeUnidadeFormatado(this.novaUnidade.nomeUnidade || '');\n      this.novaUnidade.nomeUnidade = valorFormatado;\n    }\n    formatarDiretor() {\n      const valorFormatado = this.formatarTituloPreservandoEspacos(this.novaUnidade.diretor || '');\n      this.novaUnidade.diretor = valorFormatado;\n    }\n    aplicarMascaraTelefone() {\n      const valor = this.novaUnidade.telefone || '';\n      const digitos = valor.replace(/\\D/g, '').slice(0, 11);\n      if (!digitos) {\n        this.novaUnidade.telefone = '';\n        return;\n      }\n      const ddd = digitos.slice(0, 2);\n      const parteUm = digitos.length > 10 ? digitos.slice(2, 7) : digitos.slice(2, 6);\n      const parteDois = digitos.length > 10 ? digitos.slice(7, 11) : digitos.slice(6, 10);\n      const numeroFormatado = parteDois ? `(${ddd}) ${parteUm}-${parteDois}` : `(${ddd}) ${parteUm}`;\n      this.novaUnidade.telefone = numeroFormatado;\n    }\n    validarEmailUnidade() {\n      const email = this.novaUnidade.emailUnidade?.trim();\n      if (!email) {\n        return true;\n      }\n      const regexEmail = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!regexEmail.test(email)) {\n        this.mostrarErro('Informe um e-mail valido para a unidade.');\n        return false;\n      }\n      return true;\n    }\n    obterNomeUnidadeFormatado(valor) {\n      const valorSemEspacoInicial = valor.replace(/^\\s+/, '');\n      if (!valorSemEspacoInicial) {\n        return 'ASA';\n      }\n      const valorSemPrefixo = valorSemEspacoInicial.toUpperCase().startsWith('ASA') ? valorSemEspacoInicial.slice(3) : valorSemEspacoInicial;\n      const nomeFormatado = this.formatarTituloPreservandoEspacos(valorSemPrefixo);\n      const nomeSemEspacoInicial = nomeFormatado.replace(/^\\s+/, '');\n      return nomeSemEspacoInicial ? `ASA ${nomeSemEspacoInicial}` : 'ASA';\n    }\n    aplicarValorFormatado(elemento, valorFormatado) {\n      if (elemento.value === valorFormatado) {\n        return;\n      }\n      const posicaoCursor = elemento.selectionStart ?? elemento.value.length;\n      const distanciaFim = elemento.value.length - posicaoCursor;\n      elemento.value = valorFormatado;\n      const novaPosicao = Math.max(valorFormatado.length - distanciaFim, 0);\n      elemento.setSelectionRange(novaPosicao, novaPosicao);\n    }\n    formatarTituloPreservandoEspacos(valor) {\n      return valor.split(/(\\s+)/).map(parte => {\n        if (/^\\s+$/.test(parte)) {\n          return parte;\n        }\n        const texto = parte.toLowerCase();\n        return texto.charAt(0).toUpperCase() + texto.slice(1);\n      }).join('');\n    }\n    abrirLocalizacao() {\n      const partesEndereco = [this.novaUnidade.enderecoCompleto, this.novaUnidade.bairro, this.novaUnidade.cidade].filter(Boolean);\n      if (partesEndereco.length === 0) {\n        this.mostrarErro('Informe o endereco antes de abrir o mapa.');\n        return;\n      }\n      const endereco = encodeURIComponent(partesEndereco.join(', '));\n      window.open(`https://www.google.com/maps/search/?api=1&query=${endereco}`, '_blank');\n    }\n    mostrarErro(mensagem) {\n      this.mensagemErro = mensagem;\n      this.exibirErro = true;\n    }\n    fecharErro() {\n      this.exibirErro = false;\n    }\n    aplicarFiltro() {\n      if (!this.filtroAtivo) {\n        this.unidadesFiltradas = [...this.unidades];\n        return;\n      }\n      if (this.filtroAtivo === 'pendencias') {\n        this.unidadesFiltradas = this.unidades.filter(unidade => !unidade.telefone || !unidade.emailUnidade || !unidade.bairro || !unidade.enderecoCompleto);\n        return;\n      }\n      if (this.filtroAtivo === 'desatualizadas') {\n        this.unidadesFiltradas = this.unidades.filter(unidade => !unidade.enderecoCompleto || !unidade.emailUnidade);\n        return;\n      }\n      this.unidadesFiltradas = [...this.unidades];\n    }\n    static {\n      this.ɵfac = function UnitsPageComponent_Factory(t) {\n        return new (t || UnitsPageComponent)(i0.ɵɵdirectiveInject(i1.UnidadeService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: UnitsPageComponent,\n        selectors: [[\"app-units-page\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 158,\n        vars: 20,\n        consts: [[1, \"paginaCadastroUnidade\"], [1, \"cabecalhoImpressao\"], [1, \"flex\", \"items-start\"], [\"src\", \"assets/logo.jpg\", \"alt\", \"ASA\", 1, \"logoImpressao\"], [1, \"tituloImpressao\"], [1, \"metaImpressao\"], [1, \"topoPagina\"], [1, \"linhaTopo\"], [1, \"identificadorModulo\"], [1, \"subtituloPagina\"], [1, \"tituloPagina\"], [1, \"barraAcoes\", \"barraAcoesDireita\"], [\"type\", \"button\", 1, \"botaoAcao\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"iconeAcao\"], [\"viewBox\", \"0 0 24 24\", 1, \"iconeSvg\"], [\"d\", \"M12 5v14M5 12h14\"], [\"type\", \"button\", 1, \"botaoAcao\", \"botaoPrimario\", 3, \"click\"], [\"d\", \"M5 5h12l2 2v12H5z\"], [\"d\", \"M8 5v6h8V5\"], [\"d\", \"M8 19v-6h8v6\"], [\"cx\", \"11\", \"cy\", \"11\", \"r\", \"6\"], [\"d\", \"M20 20l-3-3\"], [\"type\", \"button\", 1, \"botaoAcao\", 3, \"disabled\", \"click\"], [\"d\", \"M4 20l4-1 9-9-3-3-9 9-1 4z\"], [\"d\", \"M13 6l3 3\"], [\"d\", \"M7 7h10v4H7z\"], [\"d\", \"M7 17h10v-4H7z\"], [\"d\", \"M5 9V5h14v4\"], [\"d\", \"M5 15v4h14v-4\"], [\"type\", \"button\", 1, \"botaoAcao\", \"botaoPerigo\", 3, \"disabled\", \"click\"], [\"d\", \"M4 7h16\"], [\"d\", \"M9 7V5h6v2\"], [\"d\", \"M7 7l1 12h8l1-12\"], [\"d\", \"M10 11v6M14 11v6\"], [1, \"cartaoFormulario\"], [1, \"tituloSecao\"], [1, \"formularioUnidade\"], [1, \"grupoFormulario\"], [1, \"cabecalhoGrupo\"], [1, \"gradeGrupo\"], [1, \"linhaFormulario\"], [\"for\", \"nomeUnidade\", 1, \"rotuloCampo\"], [1, \"campoObrigatorio\"], [\"id\", \"nomeUnidade\", \"name\", \"nomeUnidade\", \"type\", \"text\", \"placeholder\", \"Digite o nome completo\", \"required\", \"\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"for\", \"diretorUnidade\", 1, \"rotuloCampo\"], [\"id\", \"diretorUnidade\", \"name\", \"diretorUnidade\", \"type\", \"text\", \"placeholder\", \"Informe o responsavel\", \"required\", \"\", 1, \"campoTexto\", \"campoDiretor\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [1, \"linhaFormulario\", \"campoAnoEleicao\"], [\"for\", \"anoEleicao\", 1, \"rotuloCampo\"], [\"id\", \"anoEleicao\", \"name\", \"anoEleicao\", \"type\", \"number\", \"placeholder\", \"2026\", \"required\", \"\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"telefoneUnidade\", 1, \"rotuloCampo\"], [\"id\", \"telefoneUnidade\", \"name\", \"telefoneUnidade\", \"type\", \"text\", \"placeholder\", \"(00) 00000-0000\", \"inputmode\", \"tel\", \"maxlength\", \"15\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"for\", \"emailUnidade\", 1, \"rotuloCampo\"], [\"id\", \"emailUnidade\", \"name\", \"emailUnidade\", \"type\", \"email\", \"placeholder\", \"email@exemplo.com\", \"pattern\", \"^[^\\\\\\\\s@]+@[^\\\\\\\\s@]+\\\\\\\\.[^\\\\\\\\s@]+$\", \"inputmode\", \"email\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\", \"blur\"], [\"for\", \"enderecoCompleto\", 1, \"rotuloCampo\"], [\"id\", \"enderecoCompleto\", \"name\", \"enderecoCompleto\", \"placeholder\", \"Rua, numero, complemento\", \"rows\", \"1\", 1, \"campoTexto\", \"campoTextoEndereco\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"for\", \"bairroUnidade\", 1, \"rotuloCampo\"], [\"id\", \"bairroUnidade\", \"name\", \"bairroUnidade\", \"type\", \"text\", \"placeholder\", \"Digite o bairro\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [\"for\", \"cidadeUnidade\", 1, \"rotuloCampo\"], [\"id\", \"cidadeUnidade\", \"name\", \"cidadeUnidade\", \"type\", \"text\", \"placeholder\", \"Digite a cidade\", \"required\", \"\", 1, \"campoTexto\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [1, \"linhaAcoesEndereco\"], [\"d\", \"M12 21s6-7 6-11a6 6 0 10-12 0c0 4 6 11 6 11z\"], [\"cx\", \"12\", \"cy\", \"10\", \"r\", \"2\"], [1, \"cartaoTabela\"], [\"class\", \"alertaFiltro\", 4, \"ngIf\"], [1, \"tabelaUnidades\"], [1, \"colunaAcoes\"], [3, \"linhaSelecionada\", \"click\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"popupErro\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"rodapeImpressao\"], [1, \"alertaFiltro\"], [3, \"click\"], [1, \"statusUnidade\", 3, \"ngClass\"], [\"type\", \"button\", 1, \"botaoLink\", 3, \"click\"], [\"colspan\", \"9\", 1, \"linhaVazia\"], [\"role\", \"alert\", 1, \"popupErro\"], [1, \"conteudoErro\"], [1, \"mensagemErro\"]],\n        template: function UnitsPageComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2);\n            i0.ɵɵelement(3, \"img\", 3);\n            i0.ɵɵelementStart(4, \"div\")(5, \"h1\", 4);\n            i0.ɵɵtext(6, \"Sistema ASA - Cadastro da Unidade\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"div\", 5);\n            i0.ɵɵtext(8, \"Relatorio de cadastro\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(9, \"div\", 5);\n            i0.ɵɵtext(10);\n            i0.ɵɵpipe(11, \"date\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"div\", 6)(13, \"div\", 7)(14, \"span\", 8);\n            i0.ɵɵtext(15, \"Cadastro\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"p\", 9);\n            i0.ɵɵtext(17, \"Gerencie as informacoes basicas das unidades ASA.\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(18, \"h2\", 10);\n            i0.ɵɵtext(19, \"Cadastro da Unidade\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 11)(21, \"button\", 12);\n            i0.ɵɵlistener(\"click\", function UnitsPageComponent_Template_button_click_21_listener() {\n              return ctx.iniciarNovaUnidade();\n            });\n            i0.ɵɵelementStart(22, \"span\", 13);\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(23, \"svg\", 14);\n            i0.ɵɵelement(24, \"path\", 15);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(25, \"span\");\n            i0.ɵɵtext(26, \"Novo\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(27, \"button\", 16);\n            i0.ɵɵlistener(\"click\", function UnitsPageComponent_Template_button_click_27_listener() {\n              return ctx.salvarUnidade();\n            });\n            i0.ɵɵelementStart(28, \"span\", 13);\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(29, \"svg\", 14);\n            i0.ɵɵelement(30, \"path\", 17)(31, \"path\", 18)(32, \"path\", 19);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(33, \"span\");\n            i0.ɵɵtext(34, \"Salvar\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(35, \"button\", 12);\n            i0.ɵɵlistener(\"click\", function UnitsPageComponent_Template_button_click_35_listener() {\n              return ctx.carregar();\n            });\n            i0.ɵɵelementStart(36, \"span\", 13);\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(37, \"svg\", 14);\n            i0.ɵɵelement(38, \"circle\", 20)(39, \"path\", 21);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(40, \"span\");\n            i0.ɵɵtext(41, \"Buscar\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(42, \"button\", 22);\n            i0.ɵɵlistener(\"click\", function UnitsPageComponent_Template_button_click_42_listener() {\n              return ctx.editarUnidadeSelecionada();\n            });\n            i0.ɵɵelementStart(43, \"span\", 13);\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(44, \"svg\", 14);\n            i0.ɵɵelement(45, \"path\", 23)(46, \"path\", 24);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(47, \"span\");\n            i0.ɵɵtext(48, \"Editar\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(49, \"button\", 12);\n            i0.ɵɵlistener(\"click\", function UnitsPageComponent_Template_button_click_49_listener() {\n              return ctx.imprimirCadastro();\n            });\n            i0.ɵɵelementStart(50, \"span\", 13);\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(51, \"svg\", 14);\n            i0.ɵɵelement(52, \"path\", 25)(53, \"path\", 26)(54, \"path\", 27)(55, \"path\", 28);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(56, \"span\");\n            i0.ɵɵtext(57, \"Imprimir\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(58, \"button\", 29);\n            i0.ɵɵlistener(\"click\", function UnitsPageComponent_Template_button_click_58_listener() {\n              return ctx.excluirUnidadeSelecionada();\n            });\n            i0.ɵɵelementStart(59, \"span\", 13);\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(60, \"svg\", 14);\n            i0.ɵɵelement(61, \"path\", 30)(62, \"path\", 31)(63, \"path\", 32)(64, \"path\", 33);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(65, \"span\");\n            i0.ɵɵtext(66, \"Excluir\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(67, \"div\", 34)(68, \"h3\", 35);\n            i0.ɵɵtext(69, \"Cadastro da unidade\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(70, \"form\", 36)(71, \"div\", 37)(72, \"div\", 38);\n            i0.ɵɵtext(73, \"Identificacao\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(74, \"div\", 39)(75, \"div\", 40)(76, \"label\", 41);\n            i0.ɵɵtext(77, \"Nome da Unidade \");\n            i0.ɵɵelementStart(78, \"span\", 42);\n            i0.ɵɵtext(79, \"*\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(80, \"input\", 43);\n            i0.ɵɵlistener(\"ngModelChange\", function UnitsPageComponent_Template_input_ngModelChange_80_listener($event) {\n              return ctx.novaUnidade.nomeUnidade = $event;\n            })(\"input\", function UnitsPageComponent_Template_input_input_80_listener($event) {\n              return ctx.aoDigitarNomeUnidade($event);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(81, \"div\", 40)(82, \"label\", 44);\n            i0.ɵɵtext(83, \"Diretor(a) \");\n            i0.ɵɵelementStart(84, \"span\", 42);\n            i0.ɵɵtext(85, \"*\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(86, \"input\", 45);\n            i0.ɵɵlistener(\"ngModelChange\", function UnitsPageComponent_Template_input_ngModelChange_86_listener($event) {\n              return ctx.novaUnidade.diretor = $event;\n            })(\"input\", function UnitsPageComponent_Template_input_input_86_listener($event) {\n              return ctx.aoDigitarDiretor($event);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(87, \"div\", 46)(88, \"label\", 47);\n            i0.ɵɵtext(89, \"Ano Eleicao \");\n            i0.ɵɵelementStart(90, \"span\", 42);\n            i0.ɵɵtext(91, \"*\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(92, \"input\", 48);\n            i0.ɵɵlistener(\"ngModelChange\", function UnitsPageComponent_Template_input_ngModelChange_92_listener($event) {\n              return ctx.novaUnidade.anoEleicao = $event;\n            });\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(93, \"div\", 37)(94, \"div\", 38);\n            i0.ɵɵtext(95, \"Contato e localizacao\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(96, \"div\", 39)(97, \"div\", 40)(98, \"label\", 49);\n            i0.ɵɵtext(99, \"Telefone\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(100, \"input\", 50);\n            i0.ɵɵlistener(\"ngModelChange\", function UnitsPageComponent_Template_input_ngModelChange_100_listener($event) {\n              return ctx.novaUnidade.telefone = $event;\n            })(\"input\", function UnitsPageComponent_Template_input_input_100_listener() {\n              return ctx.aplicarMascaraTelefone();\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(101, \"div\", 40)(102, \"label\", 51);\n            i0.ɵɵtext(103, \"E-mail da unidade\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(104, \"input\", 52);\n            i0.ɵɵlistener(\"ngModelChange\", function UnitsPageComponent_Template_input_ngModelChange_104_listener($event) {\n              return ctx.novaUnidade.emailUnidade = $event;\n            })(\"blur\", function UnitsPageComponent_Template_input_blur_104_listener() {\n              return ctx.validarEmailUnidade();\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(105, \"div\", 40)(106, \"label\", 53);\n            i0.ɵɵtext(107, \"Endereco completo\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(108, \"textarea\", 54);\n            i0.ɵɵlistener(\"ngModelChange\", function UnitsPageComponent_Template_textarea_ngModelChange_108_listener($event) {\n              return ctx.novaUnidade.enderecoCompleto = $event;\n            })(\"input\", function UnitsPageComponent_Template_textarea_input_108_listener($event) {\n              return ctx.aoDigitarTextoTitulo($event, \"enderecoCompleto\");\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(109, \"div\", 40)(110, \"label\", 55);\n            i0.ɵɵtext(111, \"Bairro\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(112, \"input\", 56);\n            i0.ɵɵlistener(\"ngModelChange\", function UnitsPageComponent_Template_input_ngModelChange_112_listener($event) {\n              return ctx.novaUnidade.bairro = $event;\n            })(\"input\", function UnitsPageComponent_Template_input_input_112_listener($event) {\n              return ctx.aoDigitarTextoTitulo($event, \"bairro\");\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(113, \"div\", 40)(114, \"label\", 57);\n            i0.ɵɵtext(115, \"Cidade \");\n            i0.ɵɵelementStart(116, \"span\", 42);\n            i0.ɵɵtext(117, \"*\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(118, \"input\", 58);\n            i0.ɵɵlistener(\"ngModelChange\", function UnitsPageComponent_Template_input_ngModelChange_118_listener($event) {\n              return ctx.novaUnidade.cidade = $event;\n            })(\"input\", function UnitsPageComponent_Template_input_input_118_listener($event) {\n              return ctx.aoDigitarTextoTitulo($event, \"cidade\");\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(119, \"div\", 59)(120, \"button\", 16);\n            i0.ɵɵlistener(\"click\", function UnitsPageComponent_Template_button_click_120_listener() {\n              return ctx.abrirLocalizacao();\n            });\n            i0.ɵɵelementStart(121, \"span\", 13);\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(122, \"svg\", 14);\n            i0.ɵɵelement(123, \"path\", 60)(124, \"circle\", 61);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵnamespaceHTML();\n            i0.ɵɵelementStart(125, \"span\");\n            i0.ɵɵtext(126, \"Ver no Google Maps\");\n            i0.ɵɵelementEnd()()()()()();\n            i0.ɵɵelementStart(127, \"div\", 62)(128, \"h3\", 35);\n            i0.ɵɵtext(129, \"Unidades ASA\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(130, UnitsPageComponent_div_130_Template, 2, 1, \"div\", 63);\n            i0.ɵɵelementStart(131, \"table\", 64)(132, \"thead\")(133, \"tr\")(134, \"th\");\n            i0.ɵɵtext(135, \"Unidade\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(136, \"th\");\n            i0.ɵɵtext(137, \"Diretor(a)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(138, \"th\");\n            i0.ɵɵtext(139, \"Telefone\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(140, \"th\");\n            i0.ɵɵtext(141, \"Bairro\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(142, \"th\");\n            i0.ɵɵtext(143, \"Cidade\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(144, \"th\");\n            i0.ɵɵtext(145, \"E-mail\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(146, \"th\");\n            i0.ɵɵtext(147, \"Ano Eleicao\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(148, \"th\");\n            i0.ɵɵtext(149, \"Status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(150, \"th\", 65);\n            i0.ɵɵtext(151, \"Acoes\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(152, \"tbody\");\n            i0.ɵɵtemplate(153, UnitsPageComponent_tr_153_Template, 21, 16, \"tr\", 66);\n            i0.ɵɵtemplate(154, UnitsPageComponent_tr_154_Template, 3, 0, \"tr\", 67);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵtemplate(155, UnitsPageComponent_div_155_Template, 6, 1, \"div\", 68);\n            i0.ɵɵelementStart(156, \"div\", 69);\n            i0.ɵɵtext(157, \" Responsavel: ____________________________ | Sistema de Gestao ASA \");\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵtextInterpolate1(\"Emissao: \", i0.ɵɵpipeBind2(11, 17, ctx.dataImpressao, \"dd/MM/yyyy HH:mm\"), \"\");\n            i0.ɵɵadvance(32);\n            i0.ɵɵproperty(\"disabled\", !ctx.unidadeSelecionada);\n            i0.ɵɵadvance(16);\n            i0.ɵɵproperty(\"disabled\", !ctx.unidadeSelecionada);\n            i0.ɵɵadvance(22);\n            i0.ɵɵproperty(\"ngModel\", ctx.novaUnidade.nomeUnidade);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngModel\", ctx.novaUnidade.diretor);\n            i0.ɵɵadvance(6);\n            i0.ɵɵclassProp(\"campoTextoInvalido\", ctx.anoEleicaoInvalido());\n            i0.ɵɵproperty(\"ngModel\", ctx.novaUnidade.anoEleicao);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngModel\", ctx.novaUnidade.telefone);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.novaUnidade.emailUnidade);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.novaUnidade.enderecoCompleto);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.novaUnidade.bairro);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngModel\", ctx.novaUnidade.cidade);\n            i0.ɵɵadvance(12);\n            i0.ɵɵproperty(\"ngIf\", ctx.filtroAtivo);\n            i0.ɵɵadvance(23);\n            i0.ɵɵproperty(\"ngForOf\", ctx.unidadesFiltradas);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.unidadesFiltradas.length === 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.exibirErro);\n          }\n        },\n        dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.DatePipe, FormsModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MaxLengthValidator, i4.PatternValidator, i4.NgModel, i4.NgForm],\n        styles: [\".paginaCadastroUnidade[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;color:#1f2a1f}.topoPagina[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.linhaTopo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px}.identificadorModulo[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:#7b857b}.tituloPagina[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}.subtituloPagina[_ngcontent-%COMP%]{margin:0;color:#5f6b5f;text-align:right}.barraAcoes[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.botaoAcao[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;border:1px solid #d8ddd8;background-color:#fff;color:#2e3a2e;border-radius:8px;padding:8px 12px;font-weight:600;font-size:13px;cursor:pointer;box-shadow:0 6px 12px #00000014}.botaoAcao[_ngcontent-%COMP%]:hover{border-color:#2f7a45}.botaoPrimario[_ngcontent-%COMP%]{background-color:#2f7a45;color:#fff;border-color:#2f7a45}.botaoPerigo[_ngcontent-%COMP%]{border-color:#dc2626;color:#dc2626}.iconeAcao[_ngcontent-%COMP%]{width:20px;height:20px;display:inline-flex;align-items:center;justify-content:center;font-size:12px;border-radius:6px;background-color:#2f7a451a}.botaoAcao[_ngcontent-%COMP%]:disabled{opacity:.55;cursor:not-allowed;box-shadow:none}.cartaoFormulario[_ngcontent-%COMP%], .cartaoTabela[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;border:1px solid #e1e5e1;padding:20px;box-shadow:0 6px 16px #0000000a}.tituloSecao[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:700}.alertaFiltro[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;margin-bottom:12px;padding:6px 10px;border-radius:999px;border:1px solid #f0e1b6;background-color:#fff6d9;color:#8a5b10;font-size:12px;font-weight:600}.formularioUnidade[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.grupoFormulario[_ngcontent-%COMP%]{border:1px solid #e4e8e4;border-radius:12px;padding:16px;background-color:#f9faf9;display:flex;flex-direction:column;gap:12px}.cabecalhoGrupo[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:#2e3a2e}.gradeGrupo[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}.linhaFormulario[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.campoAnoEleicao[_ngcontent-%COMP%]{max-width:180px}.campoDiretor[_ngcontent-%COMP%]{min-width:320px}.linhaAcoesEndereco[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:12px}.rotuloCampo[_ngcontent-%COMP%]{font-size:13px;color:#3a463a}.campoObrigatorio[_ngcontent-%COMP%]{color:#b91c1c}.campoTexto[_ngcontent-%COMP%]{border:1px solid #d8ddd8;border-radius:10px;padding:10px 12px;font-size:14px}.campoTextoEndereco[_ngcontent-%COMP%]{min-height:40px;resize:vertical}.campoTexto[_ngcontent-%COMP%]:focus{outline:none;border-color:#2f7a45;box-shadow:0 0 0 3px #2f7a4526}.campoTextoInvalido[_ngcontent-%COMP%]{border-color:#dc2626;box-shadow:0 0 0 3px #dc26261f}.tabelaUnidades[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}.tabelaUnidades[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabelaUnidades[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ecefec}.linhaSelecionada[_ngcontent-%COMP%]{background-color:#f1f8f4}.colunaAcoes[_ngcontent-%COMP%]{text-align:right}.botaoLink[_ngcontent-%COMP%]{background:none;border:none;color:#b91c1c;cursor:pointer;font-weight:600}.statusUnidade[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:4px 8px;border-radius:999px;font-size:12px;font-weight:700;text-transform:uppercase}.statusAtivo[_ngcontent-%COMP%]{background-color:#e7f6ed;color:#166534}.statusIncompleto[_ngcontent-%COMP%]{background-color:#fff4db;color:#92400e}.statusBloqueado[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.statusDesatualizado[_ngcontent-%COMP%]{background-color:#e5e7eb;color:#374151}.linhaVazia[_ngcontent-%COMP%]{text-align:center;color:#7b857b;padding:16px}.popupErro[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background-color:#00000059;padding:20px}.conteudoErro[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;padding:24px;max-width:360px;width:100%;text-align:center;display:flex;flex-direction:column;gap:16px}.mensagemErro[_ngcontent-%COMP%]{margin:0;color:#b91c1c;font-weight:600}@media (max-width: 900px){.linhaTopo[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.subtituloPagina[_ngcontent-%COMP%]{text-align:left}.barraAcoes[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}\"]\n      });\n    }\n  }\n  return UnitsPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}