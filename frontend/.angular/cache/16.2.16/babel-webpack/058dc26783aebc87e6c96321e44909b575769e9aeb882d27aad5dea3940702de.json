{"ast":null,"code":"import _objectSpread from \"C:/asa/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { AppTelaPadraoComponent } from '../shared/app-tela-padrao.component';\nimport { AppBarraAcoesCrudComponent } from '../shared/app-barra-acoes-crud.component';\nimport { AppPopupMessagesComponent } from '../shared/app-popup-messages.component';\nimport { PopupErrorBuilder } from '../shared/popup-error.builder';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/pontuacao-unidades.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction PontuacaoUnidadesPageComponent_div_10_div_4_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mes_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(mes_r8.rotulo);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_10_div_4_tr_8_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pontosMes_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pontosMes_r11);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_10_div_4_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 15);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, PontuacaoUnidadesPageComponent_div_10_div_4_tr_8_td_3_Template, 2, 1, \"td\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const linha_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(linha_r9.nomeUnidade);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", linha_r9.pontosPorMes);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_10_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"table\")(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Unidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, PontuacaoUnidadesPageComponent_div_10_div_4_th_6_Template, 2, 1, \"th\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"tbody\");\n    i0.ɵɵtemplate(8, PontuacaoUnidadesPageComponent_div_10_div_4_tr_8_Template, 4, 2, \"tr\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.mesesPontuacao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.pontuacoesMensais);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_10_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \"Nenhuma pontuacao encontrada para o periodo.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"h3\", 10);\n    i0.ɵɵtext(3, \"Pontuacao das unidades\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, PontuacaoUnidadesPageComponent_div_10_div_4_Template, 9, 2, \"div\", 11);\n    i0.ɵɵtemplate(5, PontuacaoUnidadesPageComponent_div_10_ng_template_5_Template, 2, 0, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(6);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.pontuacoesMensais.length > 0)(\"ngIfElse\", _r4);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_11_div_4_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mes_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(mes_r17.rotulo);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_11_div_4_tr_8_td_3_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 26);\n  }\n  if (rf & 2) {\n    const i_r21 = i0.ɵɵnextContext().index;\n    const ctx_r22 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"src\", ctx_r22.urlImagemSelo, i0.ɵɵsanitizeUrl)(\"alt\", \"Selo \" + ctx_r22.mesesAno[i_r21].rotulo);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_11_div_4_tr_8_td_3_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtext(1, \"X\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_11_div_4_tr_8_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 23);\n    i0.ɵɵtemplate(1, PontuacaoUnidadesPageComponent_div_11_div_4_tr_8_td_3_img_1_Template, 1, 2, \"img\", 24);\n    i0.ɵɵtemplate(2, PontuacaoUnidadesPageComponent_div_11_div_4_tr_8_td_3_ng_template_2_Template, 2, 0, \"ng-template\", null, 25, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const selo_r20 = ctx.$implicit;\n    const _r23 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", selo_r20)(\"ngIfElse\", _r23);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_11_div_4_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 15);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, PontuacaoUnidadesPageComponent_div_11_div_4_tr_8_td_3_Template, 4, 2, \"td\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pontuacao_r18 = ctx.$implicit;\n    const ctx_r16 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pontuacao_r18.nomeUnidade);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.obterSelosDaUnidade(pontuacao_r18.nomeUnidade));\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_11_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"table\")(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Unidade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, PontuacaoUnidadesPageComponent_div_11_div_4_th_6_Template, 2, 1, \"th\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"tbody\");\n    i0.ɵɵtemplate(8, PontuacaoUnidadesPageComponent_div_11_div_4_tr_8_Template, 4, 2, \"tr\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.mesesAno);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.pontuacoes);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_11_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \"Nenhuma unidade encontrada para exibir os selos.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"h3\", 10);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, PontuacaoUnidadesPageComponent_div_11_div_4_Template, 9, 2, \"div\", 19);\n    i0.ɵɵtemplate(5, PontuacaoUnidadesPageComponent_div_11_ng_template_5_Template, 2, 0, \"ng-template\", null, 20, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r13 = i0.ɵɵreference(6);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Selos por unidade (\", ctx_r1.anoReferencia, \")\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.pontuacoes.length > 0)(\"ngIfElse\", _r13);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_12_div_3_tr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function PontuacaoUnidadesPageComponent_div_12_div_3_tr_9_Template_input_ngModelChange_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const config_r30 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(config_r30.pontos = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const config_r30 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(config_r30.descricao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", config_r30.pontos)(\"name\", \"pontos_\" + config_r30.chave);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_12_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"table\")(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Atividade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Pontos\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"tbody\");\n    i0.ɵɵtemplate(9, PontuacaoUnidadesPageComponent_div_12_div_3_tr_9_Template, 5, 3, \"tr\", 14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r26.configuracoes);\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_12_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \"Nenhuma configuracao encontrada.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PontuacaoUnidadesPageComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"h3\", 10);\n    i0.ɵɵtext(2, \"Configuracao de pontos por atividade\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, PontuacaoUnidadesPageComponent_div_12_div_3_Template, 10, 1, \"div\", 29);\n    i0.ɵɵtemplate(4, PontuacaoUnidadesPageComponent_div_12_ng_template_4_Template, 2, 0, \"ng-template\", null, 30, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r27 = i0.ɵɵreference(5);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.configuracoes.length > 0)(\"ngIfElse\", _r27);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    abaAtiva: a0\n  };\n};\nexport let PontuacaoUnidadesPageComponent = /*#__PURE__*/(() => {\n  var _PontuacaoUnidadesPageComponent;\n  class PontuacaoUnidadesPageComponent {\n    constructor(pontuacaoUnidadesService, router) {\n      this.pontuacaoUnidadesService = pontuacaoUnidadesService;\n      this.router = router;\n      this.carregando = false;\n      this.carregandoConfiguracoes = false;\n      this.periodoRelatorio = this.obterPeriodoAtual();\n      this.pontuacoes = [];\n      this.pontuacoesMensais = [];\n      this.configuracoes = [];\n      this.configuracoesOriginais = [];\n      this.mensagensErro = [];\n      this.anoReferencia = 2026;\n      this.mesesAno = this.criarMesesAno();\n      this.mesesPontuacao = this.criarMesesAno();\n      this.mapaSelosPorUnidade = new Map();\n      this.abaAtiva = 'pontuacao';\n      this.urlImagemSelo = 'assets/selo-qualidade.svg';\n      this.menuPai = 'Operacional';\n      this.titulo = 'Pontuacao das unidades';\n      this.subtitulo = 'Acompanhe pontuacao mensal, selos de excelencia e trofeu anual.';\n      this.comentarioDidatico = 'ajuste os pontos por atividade e acompanhe o desempenho mensal das unidades.';\n    }\n    ngOnInit() {\n      this.carregarConfiguracoes();\n      this.carregarPontuacoes();\n    }\n    aoBuscar() {\n      this.carregarPontuacoes();\n    }\n    aoNovo() {\n      this.periodoRelatorio = this.obterPeriodoAtual();\n      this.carregarPontuacoes();\n    }\n    aoSalvar() {\n      var _this$periodoRelatori;\n      const builder = new PopupErrorBuilder();\n      if (!((_this$periodoRelatori = this.periodoRelatorio) !== null && _this$periodoRelatori !== void 0 && _this$periodoRelatori.trim())) {\n        builder.adicionarMensagem('Informe o periodo.');\n      }\n      const invalido = this.configuracoes.some(config => config.pontos == null || config.pontos < 0);\n      if (invalido) {\n        builder.adicionarMensagem('Informe pontos validos para as atividades.');\n      }\n      if (builder.temMensagens()) {\n        this.mensagensErro = builder.construir();\n        return;\n      }\n      this.carregandoConfiguracoes = true;\n      this.pontuacaoUnidadesService.salvarConfiguracoes(this.configuracoes).subscribe({\n        next: configuracoes => {\n          this.carregandoConfiguracoes = false;\n          this.configuracoes = configuracoes;\n          this.configuracoesOriginais = configuracoes.map(config => _objectSpread({}, config));\n          this.carregarPontuacoes();\n        },\n        error: () => {\n          this.carregandoConfiguracoes = false;\n          this.mensagensErro = ['Nao foi possivel salvar as configuracoes de pontuacao.'];\n        }\n      });\n    }\n    aoCancelar() {\n      this.configuracoes = this.configuracoesOriginais.map(config => _objectSpread({}, config));\n      this.carregarPontuacoes();\n    }\n    aoExcluir() {\n      this.mensagensErro = ['Acao indisponivel nesta tela.'];\n    }\n    aoImprimir() {\n      window.print();\n    }\n    aoFechar() {\n      this.router.navigate(['/dashboard']);\n    }\n    carregarPontuacoes() {\n      var _this$periodoRelatori2;\n      if (!((_this$periodoRelatori2 = this.periodoRelatorio) !== null && _this$periodoRelatori2 !== void 0 && _this$periodoRelatori2.trim())) {\n        this.mensagensErro = ['Informe o periodo.'];\n        return;\n      }\n      this.carregando = true;\n      this.anoReferencia = 2026;\n      this.pontuacaoUnidadesService.listarPontuacoes(this.periodoRelatorio).subscribe({\n        next: pontuacoes => {\n          this.pontuacoes = pontuacoes;\n          this.carregando = false;\n          this.carregarSelosAno();\n          this.carregarPontuacoesMensais();\n        },\n        error: () => {\n          this.carregando = false;\n          this.mensagensErro = ['Nao foi possivel carregar a pontuacao das unidades.'];\n        }\n      });\n    }\n    carregarConfiguracoes() {\n      this.carregandoConfiguracoes = true;\n      this.pontuacaoUnidadesService.listarConfiguracoes().subscribe({\n        next: configuracoes => {\n          this.configuracoes = configuracoes;\n          this.configuracoesOriginais = configuracoes.map(config => _objectSpread({}, config));\n          this.carregandoConfiguracoes = false;\n        },\n        error: () => {\n          this.carregandoConfiguracoes = false;\n          this.mensagensErro = ['Nao foi possivel carregar as configuracoes de pontuacao.'];\n        }\n      });\n    }\n    limparMensagens() {\n      this.mensagensErro = [];\n    }\n    obterSelosDaUnidade(nomeUnidade) {\n      const selos = this.mapaSelosPorUnidade.get(nomeUnidade);\n      if (selos) {\n        return selos;\n      }\n      const vazio = new Array(this.mesesAno.length).fill(false);\n      this.mapaSelosPorUnidade.set(nomeUnidade, vazio);\n      return vazio;\n    }\n    obterPeriodoAtual() {\n      const agora = new Date();\n      const mes = String(agora.getMonth() + 1).padStart(2, '0');\n      const ano = agora.getFullYear();\n      return `${mes}-${ano}`;\n    }\n    carregarSelosAno() {\n      this.pontuacaoUnidadesService.listarPontuacoes('01-2026').pipe(catchError(() => of([]))).subscribe({\n        next: pontuacoesJaneiro => {\n          const mapa = new Map();\n          pontuacoesJaneiro.forEach(pontuacao => {\n            const selos = new Array(this.mesesAno.length).fill(false);\n            selos[0] = this.temDadosParaSelo(pontuacao);\n            mapa.set(pontuacao.nomeUnidade, selos);\n          });\n          this.mapaSelosPorUnidade = mapa;\n        },\n        error: () => {\n          this.mapaSelosPorUnidade = new Map();\n        }\n      });\n    }\n    carregarPontuacoesMensais() {\n      const periodo = '01-2026';\n      this.pontuacaoUnidadesService.listarPontuacoes(periodo).pipe(catchError(() => of([]))).subscribe({\n        next: pontuacoesMes => {\n          const linhas = pontuacoesMes.map(pontuacao => {\n            var _pontuacao$pontosTota;\n            const pontosPorMes = new Array(this.mesesPontuacao.length).fill(0);\n            pontosPorMes[0] = (_pontuacao$pontosTota = pontuacao.pontosTotal) !== null && _pontuacao$pontosTota !== void 0 ? _pontuacao$pontosTota : 0;\n            const totalAno = pontosPorMes.reduce((acc, valor) => acc + (valor || 0), 0);\n            return {\n              nomeUnidade: pontuacao.nomeUnidade,\n              pontosPorMes,\n              totalAno\n            };\n          });\n          this.pontuacoesMensais = linhas.sort((a, b) => {\n            if (b.totalAno !== a.totalAno) {\n              return b.totalAno - a.totalAno;\n            }\n            return a.nomeUnidade.localeCompare(b.nomeUnidade);\n          });\n        },\n        error: () => {\n          this.pontuacoesMensais = [];\n        }\n      });\n    }\n    temDadosParaSelo(pontuacao) {\n      var _pontuacao$pontosTota2;\n      return ((_pontuacao$pontosTota2 = pontuacao.pontosTotal) !== null && _pontuacao$pontosTota2 !== void 0 ? _pontuacao$pontosTota2 : 0) > 0 || pontuacao.seloExcelencia === true;\n    }\n    extrairAno(periodo) {\n      return 2026;\n    }\n    criarMesesAno() {\n      return [{\n        valor: '01',\n        rotulo: 'Jan'\n      }, {\n        valor: '02',\n        rotulo: 'Fev'\n      }, {\n        valor: '03',\n        rotulo: 'Mar'\n      }, {\n        valor: '04',\n        rotulo: 'Abr'\n      }, {\n        valor: '05',\n        rotulo: 'Mai'\n      }, {\n        valor: '06',\n        rotulo: 'Jun'\n      }, {\n        valor: '07',\n        rotulo: 'Jul'\n      }, {\n        valor: '08',\n        rotulo: 'Ago'\n      }, {\n        valor: '09',\n        rotulo: 'Set'\n      }, {\n        valor: '10',\n        rotulo: 'Out'\n      }, {\n        valor: '11',\n        rotulo: 'Nov'\n      }, {\n        valor: '12',\n        rotulo: 'Dez'\n      }];\n    }\n  }\n  _PontuacaoUnidadesPageComponent = PontuacaoUnidadesPageComponent;\n  _PontuacaoUnidadesPageComponent.ɵfac = function PontuacaoUnidadesPageComponent_Factory(t) {\n    return new (t || _PontuacaoUnidadesPageComponent)(i0.ɵɵdirectiveInject(i1.PontuacaoUnidadesService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  _PontuacaoUnidadesPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _PontuacaoUnidadesPageComponent,\n    selectors: [[\"app-pontuacao-unidades-page\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 14,\n    vars: 24,\n    consts: [[3, \"menuPai\", \"titulo\", \"subtitulo\", \"comentarioDidatico\"], [\"barra-acoes\", \"\"], [3, \"desabilitarBuscar\", \"desabilitarNovo\", \"desabilitarSalvar\", \"desabilitarCancelar\", \"desabilitarExcluir\", \"desabilitarImprimir\", \"desabilitarFechar\", \"buscar\", \"novo\", \"salvar\", \"cancelar\", \"excluir\", \"imprimir\", \"fechar\"], [1, \"abasPadrao\"], [\"type\", \"button\", 1, \"abaPadrao\", 3, \"ngClass\", \"click\"], [\"class\", \"cartaoTabela\", 4, \"ngIf\"], [\"class\", \"cartaoFormulario\", 4, \"ngIf\"], [3, \"mensagens\", \"fechar\"], [1, \"cartaoTabela\"], [1, \"cabecalhoFormulario\", \"cabecalhoTabela\"], [1, \"tituloSecao\"], [\"class\", \"tabelaPontuacao\", 4, \"ngIf\", \"ngIfElse\"], [\"semPontuacoes\", \"\"], [1, \"tabelaPontuacao\"], [4, \"ngFor\", \"ngForOf\"], [1, \"colunaUnidade\"], [\"class\", \"colunaMes\", 4, \"ngFor\", \"ngForOf\"], [1, \"colunaMes\"], [1, \"linhaVazia\"], [\"class\", \"tabelaSelos\", 4, \"ngIf\", \"ngIfElse\"], [\"semSelos\", \"\"], [1, \"tabelaSelos\"], [\"class\", \"colunaSelo\", 4, \"ngFor\", \"ngForOf\"], [1, \"colunaSelo\"], [\"class\", \"imagemSelo\", 3, \"src\", \"alt\", 4, \"ngIf\", \"ngIfElse\"], [\"semSelo\", \"\"], [1, \"imagemSelo\", 3, \"src\", \"alt\"], [\"aria-label\", \"Sem selo\", 1, \"marcadorSemSelo\"], [1, \"cartaoFormulario\"], [\"class\", \"tabelaConfiguracoes\", 4, \"ngIf\", \"ngIfElse\"], [\"semConfiguracoes\", \"\"], [1, \"tabelaConfiguracoes\"], [\"type\", \"number\", \"min\", \"0\", 1, \"campoTexto\", \"campoPontos\", 3, \"ngModel\", \"name\", \"ngModelChange\"]],\n    template: function PontuacaoUnidadesPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-tela-padrao\", 0)(1, \"div\", 1)(2, \"app-barra-acoes-crud\", 2);\n        i0.ɵɵlistener(\"buscar\", function PontuacaoUnidadesPageComponent_Template_app_barra_acoes_crud_buscar_2_listener() {\n          return ctx.aoBuscar();\n        })(\"novo\", function PontuacaoUnidadesPageComponent_Template_app_barra_acoes_crud_novo_2_listener() {\n          return ctx.aoNovo();\n        })(\"salvar\", function PontuacaoUnidadesPageComponent_Template_app_barra_acoes_crud_salvar_2_listener() {\n          return ctx.aoSalvar();\n        })(\"cancelar\", function PontuacaoUnidadesPageComponent_Template_app_barra_acoes_crud_cancelar_2_listener() {\n          return ctx.aoCancelar();\n        })(\"excluir\", function PontuacaoUnidadesPageComponent_Template_app_barra_acoes_crud_excluir_2_listener() {\n          return ctx.aoExcluir();\n        })(\"imprimir\", function PontuacaoUnidadesPageComponent_Template_app_barra_acoes_crud_imprimir_2_listener() {\n          return ctx.aoImprimir();\n        })(\"fechar\", function PontuacaoUnidadesPageComponent_Template_app_barra_acoes_crud_fechar_2_listener() {\n          return ctx.aoFechar();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function PontuacaoUnidadesPageComponent_Template_button_click_4_listener() {\n          return ctx.abaAtiva = \"pontuacao\";\n        });\n        i0.ɵɵtext(5, \" Pontuacao das unidades \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function PontuacaoUnidadesPageComponent_Template_button_click_6_listener() {\n          return ctx.abaAtiva = \"selos\";\n        });\n        i0.ɵɵtext(7, \" Selos por unidade \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function PontuacaoUnidadesPageComponent_Template_button_click_8_listener() {\n          return ctx.abaAtiva = \"configuracoes\";\n        });\n        i0.ɵɵtext(9, \" Configuracao de pontos \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(10, PontuacaoUnidadesPageComponent_div_10_Template, 7, 2, \"div\", 5);\n        i0.ɵɵtemplate(11, PontuacaoUnidadesPageComponent_div_11_Template, 7, 3, \"div\", 5);\n        i0.ɵɵtemplate(12, PontuacaoUnidadesPageComponent_div_12_Template, 6, 2, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"app-popup-messages\", 7);\n        i0.ɵɵlistener(\"fechar\", function PontuacaoUnidadesPageComponent_Template_app_popup_messages_fechar_13_listener() {\n          return ctx.limparMensagens();\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"menuPai\", ctx.menuPai)(\"titulo\", ctx.titulo)(\"subtitulo\", ctx.subtitulo)(\"comentarioDidatico\", ctx.comentarioDidatico);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"desabilitarBuscar\", ctx.carregando || ctx.carregandoConfiguracoes)(\"desabilitarNovo\", ctx.carregando || ctx.carregandoConfiguracoes)(\"desabilitarSalvar\", ctx.carregandoConfiguracoes)(\"desabilitarCancelar\", ctx.carregandoConfiguracoes)(\"desabilitarExcluir\", true)(\"desabilitarImprimir\", ctx.carregando)(\"desabilitarFechar\", false);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c0, ctx.abaAtiva === \"pontuacao\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(20, _c0, ctx.abaAtiva === \"selos\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(22, _c0, ctx.abaAtiva === \"configuracoes\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.abaAtiva === \"pontuacao\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.abaAtiva === \"selos\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.abaAtiva === \"configuracoes\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"mensagens\", ctx.mensagensErro);\n      }\n    },\n    dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, FormsModule, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.NgModel, AppTelaPadraoComponent, AppBarraAcoesCrudComponent, AppPopupMessagesComponent],\n    styles: [\"[_nghost-%COMP%]{display:block;background:linear-gradient(180deg,#f7fbf8 0%,#ffffff 45%);padding:12px;border-radius:12px}.cartaoFormulario[_ngcontent-%COMP%], .cartaoTabela[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;border:1px solid #e1e5e1;padding:20px;box-shadow:0 6px 16px #0000000a}.tituloSecao[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;font-weight:700}.cabecalhoFormulario[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.formularioPadrao[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.gradeGrupo[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}.linhaFormulario[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.abasPadrao[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.abaPadrao[_ngcontent-%COMP%]{border:1px solid #d8ddd8;border-radius:10px;padding:8px 14px;font-weight:700;background-color:#fff;color:#2e3a2e;cursor:pointer}.abaPadrao.abaAtiva[_ngcontent-%COMP%]{background-color:#1f6f43;border-color:#1f6f43;color:#fff}.rotuloCampo[_ngcontent-%COMP%]{font-size:13px;color:#3a463a}.campoObrigatorio[_ngcontent-%COMP%]{color:#b91c1c}.campoTexto[_ngcontent-%COMP%]{border:1px solid #d8ddd8;border-radius:10px;padding:10px 12px;font-size:14px}.campoTexto[_ngcontent-%COMP%]:focus{outline:none;border-color:#2f7a45;box-shadow:0 0 0 3px #2f7a4526}.tabelaPontuacao[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .tabelaConfiguracoes[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .tabelaSelos[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}.tabelaPontuacao[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabelaPontuacao[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .tabelaConfiguracoes[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabelaConfiguracoes[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .tabelaSelos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabelaSelos[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;border-bottom:1px solid #e5e7eb;text-align:left}.tabelaSelos[_ngcontent-%COMP%]{overflow-x:auto}.tabelaSelos[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child), .tabelaSelos[_ngcontent-%COMP%]   td.colunaSelo[_ngcontent-%COMP%]{text-align:center;min-width:58px}.tabelaPontuacao[_ngcontent-%COMP%]{overflow-x:auto}.tabelaPontuacao[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child), .tabelaPontuacao[_ngcontent-%COMP%]   td.colunaMes[_ngcontent-%COMP%], .tabelaPontuacao[_ngcontent-%COMP%]   td.colunaTotal[_ngcontent-%COMP%]{text-align:center;min-width:64px}.colunaUnidade[_ngcontent-%COMP%]{font-weight:700;color:#1f2a1f;white-space:nowrap}.imagemSelo[_ngcontent-%COMP%]{width:34px;height:34px;object-fit:contain;display:inline-block}.marcadorSemSelo[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:34px;height:34px;border-radius:999px;border:2px solid #b91c1c;color:#b91c1c;font-weight:800;background-color:#fff5f5}.campoPontos[_ngcontent-%COMP%]{max-width:120px}.linhaVazia[_ngcontent-%COMP%]{text-align:center;color:#7b857b;padding:16px}\"]\n  });\n  return PontuacaoUnidadesPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}